%description:

Test logging: adaptive tab stops (%|) and fingerprint (%g)

%inifile: test.ini
[General]
network = TestModule
cmdenv-log-format = "%ts%| %v%| %g : "
cmdenv-event-banners = false
fingerprint = 0000-0000

%file: test.ned

simple TestModule
{
    parameters:
        @isNetwork;
}

%file: test.cc

#include <omnetpp.h>

USING_NAMESPACE

namespace @TESTNAME@ {

class TestModule : public cSimpleModule {
    protected:
        virtual void initialize() {
#ifdef USE_OMNETPP4x_FINGERPRINTS
            EV << "#UNRESOLVED: USE_OMNETPP4x_FINGERPRINTS mode produces different fingerprints from the expected ones\n";
#endif
            scheduleAt(0, new cMessage("Foo"));
            scheduleAt(.9, new cMessage("Bar"));
            scheduleAt(0.999, new cMessage("Foobar"));
            scheduleAt(1.0, new cMessage("Fubar"));
            scheduleAt(1.9999, new cMessage("Bazz"));
            scheduleAt(2.1, new cMessage("Foo"));
            scheduleAt(3, new cMessage("Foobar"));
            scheduleAt(3.23, new cMessage("Foo"));
            scheduleAt(3.999, new cMessage("Bazz"));
        }
        virtual void handleMessage(cMessage *msg) {
            EV << "Received " << msg->getName() << endl;
            delete msg;
        }
};

Define_Module(TestModule);

}

%contains: stdout
0s Foo bee5-04a5 : Received Foo
0.9s Bar 5ac4-27d4 : Received Bar
0.999s Foobar 3cec-d889 : Received Foobar
1s     Fubar  c244-6208 : Received Fubar
1.9999s Bazz  621e-fd02 : Received Bazz
2.1s    Foo   4217-f490 : Received Foo
3s      Foobar 7e3d-795c : Received Foobar
3.23s   Foo    c4ba-c452 : Received Foo
3.999s  Bazz   321a-70ba : Received Bazz

