%description:

Test logging: adaptive tab stops (%|) and fingerprint (%g)

%inifile: test.ini
[General]
network = TestModule
cmdenv-log-format = "%ts%| %v%| %g : "
cmdenv-event-banners = false
fingerprint = 0000-0000

%file: test.ned

simple TestModule
{
    parameters:
        @isNetwork;
}

%file: test.cc

#include <omnetpp.h>

USING_NAMESPACE

namespace @TESTNAME@ {

class TestModule : public cSimpleModule {
    protected:
        virtual void initialize() override {
#ifdef USE_OMNETPP4x_FINGERPRINTS
            EV << "#UNRESOLVED: USE_OMNETPP4x_FINGERPRINTS mode produces different fingerprints from the expected ones\n";
#endif
            scheduleAt(0, new cMessage("Foo"));
            scheduleAt(.9, new cMessage("Bar"));
            scheduleAt(0.999, new cMessage("Foobar"));
            scheduleAt(1.0, new cMessage("Fubar"));
            scheduleAt(1.9999, new cMessage("Bazz"));
            scheduleAt(2.1, new cMessage("Foo"));
            scheduleAt(3, new cMessage("Foobar"));
            scheduleAt(3.23, new cMessage("Foo"));
            scheduleAt(3.999, new cMessage("Bazz"));
        }
        virtual void handleMessage(cMessage *msg) override {
            EV << "Received " << msg->getName() << endl;
            delete msg;
        }
};

Define_Module(TestModule);

}

%contains: stdout
0s Foo 7c6f-d7b5 : Received Foo
0.9s Bar ba73-dc66 : Received Bar
0.999s Foobar cb95-3002 : Received Foobar
1s     Fubar  41ae-12bb : Received Fubar
1.9999s Bazz  5c05-ad35 : Received Bazz
2.1s    Foo   5525-ae92 : Received Foo
3s      Foobar edde-30eb : Received Foobar
3.23s   Foo    8f5d-68f7 : Received Foo
3.999s  Bazz   72f7-2d94 : Received Bazz
