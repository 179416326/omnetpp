%description:
Test NaN: 0/0 to produce it, isnan() to check for it, and that x!=x if x is NaN

%global:
#include <float.h>

%activity:
#define PRINT(x) ev << #x << ":" << (x) << endl;
double zero = 0;
double nan = zero/zero;

PRINT(nan);
PRINT(nan*2);
PRINT(-nan);

PRINT(_isnan(nan));
PRINT(_isnan(3.14));
PRINT(_isnan(1/zero));
PRINT(_isnan(-1/zero));

PRINT(nan==nan);
PRINT(nan!=nan);
PRINT(nan<nan);
PRINT(nan>nan);
PRINT(nan<=nan);
PRINT(nan>=nan);
ev << ".\n";

%contains: stdout
nan:-1.#IND
nan*2:-1.#IND
-nan:1.#QNAN
_isnan(nan):1
_isnan(3.14):0
_isnan(1/zero):0
_isnan(-1/zero):0
nan==nan:0
nan!=nan:1
nan<nan:0
nan>nan:0
nan<=nan:0
nan>=nan:0
.
