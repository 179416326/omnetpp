%description:
Test "like" connections

%file: test.ned
channel DefaultPackageChannel extends ned.BasicChannel like test.IFooChannel
{
}

%file: chan/test.ned
package chan;
channel ChanPackageChannel extends ned.BasicChannel like test.IFooChannel
{
}

%file: test/test.ned
package test;

channelinterface IFooChannel
{
}

module Node
{
    gates:
        inout p[];
    connections allowunconnected:
}

network Test
{
    parameters:
        string channelType1 = "DefaultPackageChannel";
        string channelType2 = "ChanPackageChannel";
    submodules:
        a: Node;
        b: Node;
    connections:
        a.p++ <--> <channelType1> like IFooChannel <--> b.p++;
        a.p++ <--> <channelType2> like IFooChannel <--> b.p++;
}

%exitcode: 1

%network: test.Test

%contains-regex: stdout
TODO need some way to test what's been built


