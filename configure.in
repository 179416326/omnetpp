dnl Process this file with autoconf to produce a configure script.
AC_INIT(src/sim/omnetpp.h)

dnl Defines.
OMNETPP_ROOT=`pwd`
AC_SUBST(OMNETPP_ROOT)

dnl Checks for programs.
AC_PROG_YACC
AC_PROG_LEX
AC_PROG_CC
AC_PROG_CXX
AC_PROG_RANLIB

dnl Checks for libraries.
AC_CHECK_LIB(m, floor)
AC_CHECK_LIB(dl, dlsym)
AC_CHECK_LIB(stdc++, some_func_in_stdCPP)
AC_CHECK_LIB(pvm3, pvm_recv)
AC_CHECK_LIB(gpvm3, pvm_joingroup)
AC_CHECK_LIB(X11, XDrawLine)
AC_CHECK_LIB(tcl, Tcl_Init)
AC_CHECK_LIB(tcl8, Tcl_Init)
AC_CHECK_LIB(tk, Tk_BindEvent,,, -lX11)
AC_CHECK_LIB(tk8, Tk_BindEvent,,, -lX11)
AC_CHECK_LIB(tv, some_cpp_func_in_TV)

dnl Checks for header files.
AC_HEADER_STDC
AC_CHECK_HEADERS(malloc.h unistd.h)

dnl Checks for typedefs, structures, and compiler characteristics.
AC_C_CONST
AC_C_INLINE
AC_TYPE_SIZE_T
AC_STRUCT_TM

dnl Checks for library functions.
AC_FUNC_MEMCMP
AC_TYPE_SIGNAL
AC_FUNC_VPRINTF
AC_CHECK_FUNCS(select strdup strspn strstr)

AC_OUTPUT(src/cmdenv/makefile samples/pvmex/makefile src/gned/makefile samples/fifo1/makefile samples/fifo2/makefile src/envir/makefile samples/fddi/makefile samples/hist/makefile src/tkenv/makefile src/sim/makefile samples/token/makefile src/utils/makefile samples/nim/makefile src/tvenv/makefile samples/hcube/makefile samples/dyna/makefile models/support/makefile Makefile src/nedc/makefile)
