== Ubuntu 8.04 and 9.10

=== Supported Releases

This chapter provides additional information for installing @OMNETPP@ on
Ubuntu Linux installations. The overall installation procedure is described
in the 'Linux' chapter.

The following Ubuntu releases are covered:

* Ubuntu 8.04 LTS ('Hardy Heron')
* Ubuntu 9.10 ('Karmic Koala')

They were tested on the following architectures:

* Intel 32-bit and 64-bit

The instructions below assume that you use the Gnome desktop and the bash shell,
which are the defaults. If you use another desktop environment or shell,
you may need to adjust the instructions accordingly.


=== Opening a Terminal

Choose 'Applications -> Accessories -> Terminal' from the menu.

This only applies if you use the Gnome Desktop (default).

=== Installing the Prerequisite Packages

You can perform the installation using the graphical user interface or
from the terminal, whichever you prefer.

==== Command-Line Installation

Before starting the installation, refresh the database of available packages.
Type in the terminal:

  $ sudo apt-get update

To install the required packages, type in the terminal:

 $ sudo apt-get install build-essential gcc g++ bison flex perl \
     tcl8.4-dev tk8.4-dev blt libxml2-dev zlib1g-dev \
     sun-java6-jre xulrunner graphviz doxygen openmpi-bin \
     libopenmpi-dev

At the confirmation questions ('Do you want to continue? [Y/N]'), answer 'Y'.
The installer will also require you to accept the 'sun-java6' agreement.

image::pictures/terminal-package-install.png[title="Synaptic Package Manager",align="center",scaledwidth="75%"]

[NOTE]
===============================================================
You may get the following error message:

  Package <package name> is not available, but is referred to
  by another package. This may mean that the package is missing,
  has been obsoleted, or is only available from another source.
  E: Package <package name> has no installation candidate

If this happens, then it is possible that a newer version of the
package exists. In that case, start Ubuntu's graphical installer
(`Synaptic`, see next section), and use it to determine which version
of the package to install.
===============================================================


==== Graphical Installation

Ubuntu's graphical installer, 'Synaptic', can be started
with the 'System -> Administration -> Synaptic package manager' menu item.

Since software installation requires root permissions, Synaptic will ask you
to type your password.

Search for the following packages in the list, click the square before the names,
then choose 'Mark for installation' or 'Mark for upgrade'.

If the 'Mark additional required changes?' dialog comes up, choose the 'Mark' button.

The packages:

* build-essential, bison, gcc, g++, flex, perl, tcl8.4-dev, tk8.4-dev,
blt, libxml2-dev, zlib1g-dev, sun-java6-jre, xulrunner, graphviz, doxygen,
openmpi-bin, libopenmpi-dev

'sun-java6-jre' will require you accept the license agreement.

image::pictures/ubuntu-synaptic.png[title="Synaptic Package Manager",align="center",scaledwidth="75%"]

Click 'Apply', then in the 'Apply the following changes?' window, click 'Apply' again.
In the 'Changes applied' window, click 'Close'.


=== IDE Quirk on Ubuntu 9.10

If you are using Ubuntu 9.10, you may find that some buttons do not work
in the @OMNETPP@ IDE. Clicking has no effect but keyboard shortcuts still work.

This bug is the result of an unfortunate interference of a new GTK feature
and the way Eclipse (on which the IDE is based) handles buttons internally.
This bug is fixed in Eclipse 3.6M2, but the IDE is based on Eclipse 3.5.
You can work around the issue in Eclipse 3.5 by setting an environment
variable:

  $ export GDK_NATIVE_WINDOWS=1

We have added the above line to the `bin/@omnetpp@` script. However, if you bypass
the script by running `ide/@omnetpp@` directly, then you have to make ensure
yourself that then environment variable is set.

Related links:

* https://bugs.eclipse.org/bugs/show_bug.cgi?id=287307
* http://www.norio.be/blog/2009/10/problems-eclipse-buttons-ubuntu-910
* http://blog.export.be/2009/10/fixing-eclipse-for-ubuntu-karmic-koala-9-10/


