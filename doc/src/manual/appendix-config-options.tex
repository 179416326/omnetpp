\chapter{Configuration Options}
\label{cha:config-options}

\section{Configuration Options}

This section lists all configuration options that are available in ini files.
A similar list can be obtained from any simulation executable by running it
with the \ttt{-h configdetails} option.

\begin{verbatim}
<object-full-path>.apply-default=<bool>, default:false; per-object setting
    Applies to module parameters: whether NED default values should be assigned
    if present.

cmdenv-autoflush=<bool>, default:false; per-run setting
    Call fflush(stdout) after each event banner or status update; affects both
    express and normal mode. Turning on autoflush may have a performance
    penalty, but it can be useful with printf-style debugging for tracking down
    program crashes.

cmdenv-config-name=<string>; global setting
    Specifies the name of the configuration to be run (for a value `Foo',
    section [Config Foo] will be used from the ini file). See also
    cmdenv-runs-to-execute=. The -c command line option overrides this setting.

<object-full-path>.cmdenv-ev-output=<bool>, default:true; per-object setting
    When cmdenv-express-mode=false: whether Cmdenv should print debug messages
    (ev<<) from the selected modules.

cmdenv-event-banner-details=<bool>, default:false; per-run setting
    When cmdenv-express-mode=false: print extra information after event
    banners.

cmdenv-event-banners=<bool>, default:true; per-run setting
    When cmdenv-express-mode=false: turns printing event banners on/off.

cmdenv-express-mode=<bool>, default:true; per-run setting
    Selects ``normal'' (debug/trace) or ``express'' mode.

cmdenv-extra-stack=<double>, unit="B", default:8KB; global setting
    Specifies the extra amount of stack that is reserved for each activity()
    simple module when the simulation is run under Cmdenv.

cmdenv-interactive=<bool>, default:false; global setting
    Defines what Cmdenv should do when the model contains unassigned
    parameters. In interactive mode, it asks the user. In non-interactive mode
    (which is more suitable for batch execution), Cmdenv stops with an error.

cmdenv-message-trace=<bool>, default:false; per-run setting
    When cmdenv-express-mode=false: print a line per message sending (by
    send(),scheduleAt(), etc) and delivery on the standard output.

cmdenv-module-messages=<bool>, default:true; per-run setting
    When cmdenv-express-mode=false: turns printing module ev<< output on/off.

cmdenv-output-file=<filename>; global setting
    When a filename is specified, Cmdenv redirects standard output into the
    given file. This is especially useful with parallel simulation. See the
    `fname-append-host' option as well.

cmdenv-performance-display=<bool>, default:true; per-run setting
    When cmdenv-express-mode=true: print detailed performance information.
    Turning it on results in a 3-line entry printed on each update, containing
    ev/sec, simsec/sec, ev/simsec, number of messages created/still
    present/currently scheduled in FES.

cmdenv-runs-to-execute=<string>; global setting
    Specifies which runs to execute from the selected configuration (see
    cmdenv-config-name=). It accepts a comma-separated list of run numbers or
    run number ranges, e.g. 1,3..4,7..9. If the value is missing, Cmdenv
    executes all runs in the selected configuration. The -r command line option
    overrides this setting.

cmdenv-status-frequency=<int>, default:100000; per-run setting
    When cmdenv-express-mode=true: print status update every n events. Typical
    values are 100,000...1,000,000.

configuration-class=<string>; global setting
    Part of the Envir plugin mechanism: selects the class from which all
    configuration information will be obtained. This option lets you replace
    omnetpp.ini with some other implementation, e.g. database input. The
    simulation program still has to bootstrap from an omnetpp.ini (which
    contains the configuration-class setting). The class should implement the
    cConfiguration interface.

constraint=<string>; per-run setting
    For scenarios. Contains an expression that iteration variables (${} syntax)
    must satisfy for that simulation to run. Example: $i < $j+1.

cpu-time-limit=<double>, unit="s"; per-run setting
    Stops the simulation when CPU usage has reached the given limit. The
    default is no limit.

debug-on-errors=<bool>, default:false; global setting
    When set to true, runtime errors will cause the simulation program to break
    into the C++ debugger (if the simulation is running under one, or
    just-in-time debugging is activated). Once in the debugger, you can view
    the stack trace or examine variables.

description=<string>; per-run setting
    Descriptive name for the given simulation configuration. Descriptions get
    displayed in the run selection dialog.

eventlog-file=<filename>, default:${resultdir}/${configname}-${runnumber}.log; per-run setting
    Name of the event log file to generate.

eventlog-message-detail-pattern=<custom>; per-run setting
    A list of patterns separated by '|' character which will be used to write
    message detail information into the event log for each message sent during
    the simulation. The message detail will be presented in the sequence chart
    tool. Each pattern starts with an object pattern optionally followed by ':'
    character and a comma separated list of field patterns. In both patterns
    and/or/not/* and various field matcher expressions can be used. The object
    pattern matches to class name, the field pattern matches to field name by
    default.
      EVENTLOG-MESSAGE-DETAIL-PATTERN := ( DETAIL-PATTERN '|' )* DETAIL_PATTERN
      DETAIL-PATTERN := OBJECT-PATTERN [ ':' FIELD-PATTERNS ]
      OBJECT-PATTERN := MATCHER-EXPRESSION
      FIELD-PATTERNS := ( FIELD-PATTERN ',' )* FIELD_PATTERN
      FIELD-PATTERN := MATCHER-EXPRESSION
    Examples (enter them without quotes):
      "*": captures all fields of all messages
      "*Frame:*Address,*Id": captures all fields named somethingAddress and
    somethingId from messages of any class named somethingFrame
      "MyMessage:declaredOn(MyMessage)": captures instances of MyMessage
    recording the fields declared on the MyMessage class
      "*:(not declaredOn(cMessage) and not declaredOn(cNamedObject) and not
    declaredOn(cObject))": records user-defined fields from all messages

eventlog-recording-intervals=<custom>; per-run setting
    Interval(s) when events should be recorded. Syntax: [<from>]..[<to>],...
    That is, both start and end of an interval are optional, and intervals are
    separated by comma. Example: ..100, 200..400, 900..

experiment-label=<string>, default:${configname}; per-run setting
    Identifies the simulation experiment (which consists of several,
    potentially repeated measurements). This string gets recorded into result
    files, and may be referred to during result analysis.

extends=<string>; per-run setting
    Name of the configuration this section is based on. Entries from that
    section will be inherited and can be overridden. In other words,
    configuration lookups will fall back to the base section.

fingerprint=<string>; per-run setting
    The expected fingerprint, suitable for crude regression tests. If present,
    the actual fingerprint is calculated during simulation, and compared
    against the expected one.

fname-append-host=<bool>, default:false; global setting
    Turning it on will cause the host name and process Id to be appended to the
    names of output files (e.g. omnetpp.vec, omnetpp.sca). This is especially
    useful with distributed simulation.

ini-warnings=<bool>, default:false; global setting
    Currently ignored. Accepted for backward compatibility.

load-libs=<filenames>; global setting
    A space-separated list of dynamic libraries to be loaded on startup. The
    libraries should be given without the `.dll' or `.so' suffix -- that will
    be automatically appended.

max-module-nesting=<int>, default:50; per-run setting
    The maximum allowed depth of submodule nesting. This is used to catch
    accidental infinite recursions in NED.

measurement-label=<string>, default:${iterationvars}; per-run setting
    Identifies the measurement within the experiment. This string gets recorded
    into result files, and may be referred to during result analysis.

<object-full-path>.module-eventlog-recording=<bool>, default:true; per-object setting
    Enables recording events on a per module basis. This is meaningful for
    simple modules only.
    Example:
     **.router[10..20].**.module-eventlog-recording = true
     **.module-eventlog-recording = false

ned-path=<string>; global setting
    A semicolon-separated list of directories which will be appended to the
    NEDPATH environment variable. The directories will be regarded as roots of
    the NED package hierarchy, and all NED files will be loaded from the
    subdirectories under them.

network=<string>; per-run setting
    The name of the network to be simulated.

num-rngs=<int>, default:1; per-run setting
    The number of random number generators.

output-scalar-file=<filename>, default:${resultdir}/${configname}-${runnumber}.sca; per-run setting
    Name for the output scalar file.

output-scalar-file-append=<bool>, default:false; per-run setting
    What to do when the output scalar file already exists: append to it
    (OMNeT++ 3.x behavior), or delete it and begin a new file (default).

output-scalar-precision=<int>, default:14; per-run setting
    The number of significant digits for recording data into the output scalar
    file. The maximum value is ~15 (IEEE double precision).

output-vector-file=<filename>, default:${resultdir}/${configname}-${runnumber}.vec; per-run setting
    Name for the output vector file.

output-vector-precision=<int>, default:14; per-run setting
    The number of significant digits for recording data into the output vector
    file. The maximum value is ~15 (IEEE double precision). This setting has no
    effect on the "time" column of output vectors, which are represented as
    fixed-point numbers and always get recorded precisely.

output-vectors-memory-limit=<double>, unit="B", default:16MB; per-run setting
    Total memory that can be used for buffering output vectors. Larger values
    produce less fragmented vector files (i.e. cause vector data to be grouped
    into larger chunks), and therefore allow more efficient processing later.

outputscalarmanager-class=<string>, default:cFileOutputScalarManager; global setting
    Part of the Envir plugin mechanism: selects the output scalar manager class
    to be used to record data passed to record(). The class has to
    implement the cOutputScalarManager interface.

outputvectormanager-class=<string>, default:cIndexedFileOutputVectorManager; global setting
    Part of the Envir plugin mechanism: selects the output vector manager class
    to be used to record data from output vectors. The class has to implement
    the cOutputVectorManager interface.

parallel-simulation=<bool>, default:false; global setting
    Enables parallel distributed simulation.

<object-full-path>.param-record-as-scalar=<bool>, default:false; per-object setting
    Applicable to module parameters: specifies whether the module parameter
    should be recorded into the output scalar file. Set it for parameters whose
    value you'll need for result analysis.

parsim-communications-class=<string>, default:cFileCommunications; global setting
    If parallel-simulation=true, it selects the class that implements
    communication between partitions. The class must implement the
    cParsimCommunications interface.

parsim-debug=<bool>, default:true; global setting
    With parallel-simulation=true: turns on printing of log messages from the
    parallel simulation code.

parsim-filecommunications-prefix=<string>, default:comm/; global setting
    When cFileCommunications is selected as parsim communications class:
    specifies the prefix (directory+potential filename prefix) for creating the
    files for cross-partition messages.

parsim-filecommunications-preserve-read=<bool>, default:false; global setting
    When cFileCommunications is selected as parsim communications class:
    specifies that consumed files should be moved into another directory
    instead of being deleted.

parsim-filecommunications-read-prefix=<string>, default:comm/read/; global setting
    When cFileCommunications is selected as parsim communications class:
    specifies the prefix (directory) where files will be moved after having
    been consumed.

parsim-idealsimulationprotocol-tablesize=<int>, default:100000; global setting
    When cIdealSimulationProtocol is selected as parsim synchronization class:
    specifies the memory buffer size for reading the ISP event trace file.

parsim-namedpipecommunications-prefix=<string>, default:omnetpp; global setting
    When cNamedPipeCommunications is selected as parsim communications class:
    selects the name prefix for Windows named pipes created.

parsim-nullmessageprotocol-laziness=<double>, default:0.5; global setting
    When cNullMessageProtocol is selected as parsim synchronization class:
    specifies the laziness of sending null messages. Values in the range [0,1)
    are accepted. Laziness=0 causes null messages to be sent out immediately as
    a new EOT is learned, which may result in excessive null message traffic.

parsim-nullmessageprotocol-lookahead-class=<string>, default:cLinkDelayLookahead; global setting
    When cNullMessageProtocol is selected as parsim synchronization class:
    specifies the C++ class that calculates lookahead. The class should
    subclass from cNMPLookahead.

parsim-synchronization-class=<string>, default:cNullMessageProtocol; global setting
    If parallel-simulation=true, it selects the parallel simulation algorithm.
    The class must implement the cParsimSynchronizer interface.

<object-full-path>.partition-id=<string>; per-object setting
    With parallel simulation: in which partition the module should be
    instantiated. Specify numeric partition ID, or a comma-separated list of
    partition IDs for compound modules that span across multiple partitions.
    Ranges ("5..9") and "*" (=all) are accepted too.

perform-gc=<bool>, default:false; global setting
    Whether the simulation kernel should delete on network cleanup the
    simulation objects not deleted by simple module destructors. Not
    recommended.

print-undisposed=<bool>, default:true; global setting
    Whether to report objects left (that is, not deallocated by simple module
    destructors) after network cleanup.

realtimescheduler-scaling=<double>; global setting
    When cRealTimeScheduler is selected as scheduler class: ratio of simulation
    time to real time. For example, scaling=2 will cause simulation time to
    progress twice as fast as runtime.

record-eventlog=<bool>, default:false; per-run setting
    Enables recording an eventlog file, which can be later visualized on a
    sequence chart. See eventlog-file= option too.

repeat=<int>, default:1; per-run setting
    For scenarios. Specifies how many replications should be done with the same
    parameters (iteration variables). This is typically used to perform
    multiple runs with different random number seeds. The loop variable is
    available as ${repetition}. See also: seed-set= key.

replication-label=<string>, default:#${repetition}; per-run setting
    Identifies one replication of a measurement (see repeat= and
    measurement-label= as well). This string gets recorded into result files,
    and may be referred to during result analysis.

result-dir=<string>, default:results; per-run setting
    Value for the ${resultdir} variable, which is used as the default directory
    for result files (output vector file, output scalar file, eventlog file,
    etc.)

<object-full-path>.rng-%=<int>; per-object setting
    Maps a module-local RNG to one of the global RNGs. Example: **.gen.rng-1=3
    maps the local RNG 1 of modules matching `**.gen' to the global RNG 3. The
    default is one-to-one mapping.

rng-class=<string>, default:cMersenneTwister; per-run setting
    The random number generator class to be used. It can be `cMersenneTwister',
    `cLCG32', `cAkaroaRNG', or you can use your own RNG class (it must be
    subclassed from cRNG).

<object-full-path>.scalar-recording=<bool>, default:true; per-object setting
    Whether the matching output scalars should be recorded. Syntax:
    <module-full-path>.<scalar-name>.scalar-recording=true/false. Example:
    **.queue.packetsDropped.scalar-recording=true

scheduler-class=<string>, default:cSequentialScheduler; global setting
    Part of the Envir plugin mechanism: selects the scheduler class. This
    plugin interface allows for implementing real-time, hardware-in-the-loop,
    distributed and distributed parallel simulation. The class has to implement
    the cScheduler interface.

seed-%-lcg32=<int>; per-run setting
    When cLCG32 is selected as random number generator: seed for the kth RNG.
    (Substitute k for '%' in the key.)

seed-%-mt=<int>; per-run setting
    When Mersenne Twister is selected as random number generator (default):
    seed for RNG number k. (Substitute k for '%' in the key.)

seed-%-mt-p%=<int>; per-run setting
    With parallel simulation: When Mersenne Twister is selected as random
    number generator (default): seed for RNG number k in partition number p.
    (Substitute k for the first '%' in the key, and p for the second.)

seed-set=<int>, default:${runnumber}; per-run setting
    Selects the kth set of automatic random number seeds for the simulation.
    Meaningful values include ${repetition} which is the repeat loop counter
    (see repeat= key), and ${runnumber}.

sim-time-limit=<double>, unit="s"; per-run setting
    Stops the simulation when simulation time reaches the given limit. The
    default is no limit.

simtime-scale=<int>, default:-12; global setting
    Sets the scale exponent, and thus the resolution of time for the 64-bit
    fixed-point simulation time representation. Accepted values are -18..0; for
    example, -6 selects microsecond resolution. -12 means picosecond
    resolution, with a maximum simtime of ~110 days.

snapshot-file=<filename>, default:${resultdir}/${configname}-${runnumber}.sna; per-run setting
    Name of the snapshot file.

snapshotmanager-class=<string>, default:cFileSnapshotManager; global setting
    Part of the Envir plugin mechanism: selects the class to handle streams to
    which snapshot() writes its output. The class has to implement the
    cSnapshotManager interface.

tkenv-default-config=<string>; global setting
    Specifies which config Tkenv should set up automatically on startup. The
    default is to ask the user.

tkenv-default-run=<int>, default:0; global setting
    Specifies which run (of the default config, see tkenv-default-config) Tkenv
    should set up automatically on startup. The default is to ask the user.

tkenv-extra-stack=<double>, unit="B", default:48KB; global setting
    Specifies the extra amount of stack that is reserved for each activity()
    simple module when the simulation is run under Tkenv.

tkenv-image-path=<filename>; global setting
    Specifies the path for loading module icons.

tkenv-plugin-path=<filename>; global setting
    Specifies the search path for Tkenv plugins. Tkenv plugins are .tcl files
    that get evaluated on startup.

total-stack=<double>, unit="B"; global setting
    Specifies the maximum memory for activity() simple module stacks. You need
    to increase this value if you get a ``Cannot allocate coroutine stack''
    error.

<object-full-path>.type-name=<string>; per-object setting
    Specifies type for submodules and channels declared with 'like <>'.

user-interface=<string>; global setting
    Selects the user interface to be started. Possible values are Cmdenv and
    Tkenv, provided the simulation executable contains the respective libraries
    or loads them dynamically.

<object-full-path>.vector-max-buffered-values=<int>; per-object setting
    For output vectors: the maximum number of values to buffer per vector,
    before writing out a block into the output vector file. The default is no
    per-vector limit (i.e. only the total memory limit is in effect)

<object-full-path>.vector-record-eventnumbers=<bool>, default:true; per-object setting
    Whether to record event numbers for an output vector. Simulation time and
    value are always recorded. Event numbers are needed by the Sequence Chart
    Tool, for example.

<object-full-path>.vector-recording=<bool>, default:true; per-object setting
    Whether data written into an output vector should be recorded.

<object-full-path>.vector-recording-interval=<custom>; per-object setting
    Recording interval(s) for an output vector. Syntax: [<from>]..[<to>],...
    That is, both start and end of an interval are optional, and intervals are
    separated by comma. Example: ..100, 200..400, 900..

warnings=<bool>, default:true; per-run setting
    Enables warnings.
\end{verbatim}


Predefined variables that can be used in config values:

\begin{verbatim}
${runid}
    A reasonably globally unique identifier for the run, produced by
    concatenating the configuration name, run number, date/time, etc.
${inifile}
    Name of the (primary) inifile
${configname}
    Name of the active configuration
${runnumber}
    Sequence number of the current run within all runs in the active
    configuration
${network}
    Value of the "network" configuration option
${experiment}
    Value of the "experiment-label" configuration option
${measurement}
    Value of the "measurement-label" configuration option
${replication}
    Value of the "replication-label" configuration option
${processid}
    PID of the simulation process
${datetime}
    Date and time the simulation run was started
${resultdir}
    Value of the "result-dir" configuration option
${repetition}
    The iteration number in 0..N-1, where N is the value of the "repeat"
    configuration option
${seedset}
    Value of the "seed-set" configuration option
${iterationvars}
    Concatenation of all user-defined iteration variables in name=value form
${iterationvars2}
    Concatenation of all user-defined iteration variables in name=value form,
    plus ${repetition}
\end{verbatim}



\section{Predefined Configuration Variables}

Predefined variables that can be used in config values:

\begin{verbatim}
${runid}
    A reasonably globally unique identifier for the run, produced by
    concatenating the configuration name, run number, date/time, etc.
${inifile}
    Name of the (primary) inifile
${configname}
    Name of the active configuration
${runnumber}
    Sequence number of the current run within all runs in the active
    configuration
${network}
    Value of the "network" configuration option
${experiment}
    Value of the "experiment-label" configuration option
${measurement}
    Value of the "measurement-label" configuration option
${replication}
    Value of the "replication-label" configuration option
${processid}
    PID of the simulation process
${datetime}
    Date and time the simulation run was started
${resultdir}
    Value of the "result-dir" configuration option
${repetition}
    The iteration number in 0..N-1, where N is the value of the "repeat"
    configuration option
${seedset}
    Value of the "seed-set" configuration option
${iterationvars}
    Concatenation of all user-defined iteration variables in name=value form
${iterationvars2}
    Concatenation of all user-defined iteration variables in name=value form,
    plus ${repetition}
\end{verbatim}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "usman"
%%% End:
