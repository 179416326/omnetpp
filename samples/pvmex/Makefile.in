#
# *** This file was automatically generated by utils/makemake ***
#
#  This makefile assumes that .ned, .cc and .h files are in one directory
#  Program name defaults to the name of the directory (e.g.myproject).
#

# Name of simulation program to be created
PROGRAM = pvmex

# Select a user interface by uncommenting one of the following lines:
USERIF_LIBS = $(CMDENV_LIBS)
# USERIF_LIBS = $(TKENV_LIBS)
# USERIF_LIBS = $(TVENV_LIBS)

# Uncomment the second line for parallel execution (PVM3) support:
KERNEL_LIBS = $(STD_KERNEL_LIBS)
# KERNEL_LIBS = $(PVM_KERNEL_LIBS)

# If you include NED files from outside this dir, their paths
# NED_INCL_PATH = -I../library

# If you use simple modules from outside this dir, compile them
# and put the names of the .o or .a files here
# OTHERSIMPLES =../library/module1.o ../library/modules.a

#---- end user configurable part -----

# NOTE:
# The following variables (paths etc.) are set by the configure script
# Modify that if you have problems!

OMNETPP_ROOT = /home/andras/omnetpp

CXX=@CXX@
NEDC=@NEDC@
LD=@LD@

OMNETPP_INCL_PATH=@OMNETPP_INCL_PATH@
OMNETPP_LIB_PATH=@OMNETPP_LIB_PATH@

TV_LIBS=@TV_LIBS@
X_LIBS=@X_LIBS@
TK_LIBS=@TK_LIBS@
PVM_LIBS=@PVM_LIBS@
SYS_LIBS=@SYS_LIBS@

TV_LIB_PATH=@TV_LIB_PATH@
TK_LIB_PATH=@TK_LIB_PATH@
X_LIB_PATH=@X_LIB_PATH@
PVM_LIB_PATH=@PVM_LIB_PATH@

# User interface libs
CMDENV_LIBS = -lenvir -lcmdenv
TVENV_LIBS = -lenvir -ltvenv $(TV_LIB_PATH) $(TV_LIBS)
TKENV_LIBS = -lenvir -ltkenv $(TK_LIB_PATH) $(TK_LIBS) $(X_LIB_PATH) $(X_LIBS)

# Simulation kernel
STD_KERNEL_LIBS = -lsim_std
PVM_KERNEL_LIBS = -lsim_pvm $(PVM_LIB_PATH) $(PVM_LIBS)

# Simulation kernel and user interface libraries
OMNETPP_LIBS = $(OMNETPP_LIB_PATH) $(KERNEL_LIBS) $(USERIF_LIBS) $(SYS_LIBS)

OMNETPP_INCLUDES=@OMNETPP_INCLUDES@

# Object files from this directory to link
OBJS = pvmex_n.o simples.o

#----------------------------------------------

$(PROGRAM): $(OBJS) $(OTHERSIMPLES) makefile
	$(LD) $(OBJS) $(OTHERSIMPLES) $(OMNETPP_LIBS) -o $(PROGRAM)

pvmex_n.o: pvmex_n.cc $(OMNETPP_INCLUDES)
	$(CXX) -c $(COPTS) $(OMNETPP_INCL_PATH) pvmex_n.cc

pvmex_n.cc: pvmex.ned
	$(NEDC) $(NED_INCL_PATH) pvmex.ned

simples.o: simples.cc $(OMNETPP_INCLUDES)
	$(CXX) -c $(COPTS) $(OMNETPP_INCL_PATH) simples.cc

clean:
	rm -f *.o *_n.cc $(PROGRAM)
