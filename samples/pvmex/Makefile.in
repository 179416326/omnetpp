#
# *** This file was automatically generated by utils/makemake ***
#
#  This makefile assumes that .ned, .cc and .h files are in one directory
#  Program name defaults to the name of the directory (e.g.myproject).
#

# Name of simulation program to be created
PROGRAM = pvmex

# Select a user interface by uncommenting one of the following lines:
USERIF_LIBS = $(CMDENV_LIBS)
# USERIF_LIBS = $(TKENV_LIBS)
# USERIF_LIBS = $(TVENV_LIBS)

# Uncomment the second line for parallel execution (PVM3) support:
KERNEL_LIBS = $(STD_KERNEL_LIBS)
# KERNEL_LIBS = $(PVM_KERNEL_LIBS)

# If you include NED files from outside this dir, their paths
# NED_INCL_PATH = -I../library

# If you use simple modules from outside this dir, compile them
# and put the names of the .o or .a files here
# OTHERSIMPLES =../library/module1.o ../library/modules.a

#---- end user configurable part -----

# NOTE:
# The following variables (paths etc.) are set by the configure script
# Modify that if you have problems!

OMNETPP_ROOT = /home/andras/omnetpp

CC = gcc -g -I. -c -x c++
NEDC = /home/andras/omnetpp/nedc/nedc
LD = gcc

OMNETPP_INCL_PATH=-I/home/andras/omnetpp/sim -I/home/andras/omnetpp/envir
OMNETPP_LIB_PATH=-L/home/andras/omnetpp/sim -L/home/andras/omnetpp/envir -L/home/andras/omnetpp/envir/cmdenv -L/home/andras/omnetpp/envir/tvenv -L/home/andras/omnetpp/envir/tkenv

TV_LIBS=-ltv
X_LIBS=-lX11
TK_LIBS=-ltk -ltcl -ldl
PVM_LIBS=-lgpvm3 -lpvm3
SYS_LIBS=-ldl -lm -lstdc++

TV_LIB_PATH=
TK_LIB_PATH=-L/usr/lib -L/usr/lib
X_LIB_PATH=-L/usr/X11R6/lib
PVM_LIB_PATH=-L/home/andras/pvm3/src/LINUX

# User interface libs
CMDENV_LIBS = -lenvir -lcmdenv
TVENV_LIBS = -lenvir -ltvenv $(TV_LIB_PATH) $(TV_LIBS)
TKENV_LIBS = -lenvir -ltkenv $(TK_LIB_PATH) $(TK_LIBS) $(X_LIB_PATH) $(X_LIBS)

# Simulation kernel
STD_KERNEL_LIBS = -lsim_std
PVM_KERNEL_LIBS = -lsim_pvm $(PVM_LIB_PATH) $(PVM_LIBS)

# Simulation kernel and user interface libraries
OMNETPP_LIBS = $(OMNETPP_LIB_PATH) $(KERNEL_LIBS) $(USERIF_LIBS) $(SYS_LIBS)

OMNETPP_INCLUDES = /home/andras/omnetpp/sim/*.h /home/andras/omnetpp/envir/cenvir.h

# Object files from this directory to link
OBJS = pvmex_n.o simples.o

#----------------------------------------------

$(PROGRAM): $(OBJS) $(OTHERSIMPLES) makefile
	$(LD) $(OBJS) $(OTHERSIMPLES) $(OMNETPP_LIBS) -o $(PROGRAM)

pvmex_n.o: pvmex_n.cc $(OMNETPP_INCLUDES)
	$(CC) $(OMNETPP_INCL_PATH) pvmex_n.cc

pvmex_n.cc: pvmex.ned
	$(NEDC) $(NED_INCL_PATH) pvmex.ned

simples.o: simples.cc $(OMNETPP_INCLUDES)
	$(CC) $(OMNETPP_INCL_PATH) simples.cc

clean:
	rm -f *.o *_n.cc $(PROGRAM)
