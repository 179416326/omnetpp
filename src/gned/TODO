Bugs:
- module name mismatch in the submods and conns sections ==> sometimes "assert failed"
- resizing the parent module is difficult: you must hit the _inner_
  (invisible) border
- connection drawing doesn't work sometimes (can't reproduce...)
- sometimes generates empty lines into the code
- should eliminate "staircase comment" effect, like:
    param1: string,
                    // param2: string;
- in this code, the "// # is bitwise comment" will appear twice:
 module Hypercube
  parameters:
    dim: numeric const,
    nodetype: string;
  submodules:
    node: nodetype[2^dim] like Node
      parameters:
        address = index, // module's position in (2^dim)-size vector
        dim = dim;
      gatesizes:
        out[dim], in[dim];
  connections:
    for i=0..2^dim-1, j=0..dim-1 do
      node[i].out[j] --> node[i # (1<<j)].in[j];  // # is bitwise xor
    endfor;
 endmodule

Parse/Generate:
- comments around display strings, channel attributes are lost
- add default comments for newly created modules!
- display string parsing -- rewrite!!!
- comments -- choose different approach? (do not cut of "// ")
- error recovery in the grammar: TBD

Data struct change:
- "source-text" attribute to module?? should be added when one switches to text mode
- turn display strings into independent objects?

Drawing:
- random placement of submods should be the same as in Tkenv
- should support ovals too (not only rects)
- it's possible to fool the connection drawing: if, while dragging out
  a connection, you click the righ mouse button and release both mouse buttons
  over the menu that popped up, the half-cooked connection arrow will stay
  on the canvas

Load/save:
- refuse to load the same file twice
- save: what should it do with canvases switched to text?
     - save the text version? (maybe try to backparse it before saving,
       and warn user if there's a parse error and she won't be able to
       load the saves file back into gned)
     - silently backparse?
     - refuse to save: ask user to switch to graphics?
- load: if there's a parse error, load the whole stuff into a "scratch" text-mode canvas?

Text editor:
- "gatesizes" is not colored
- "find next" missing
- pgup, ctrl-pgup doesn't work correctly
- syntax highlighting not 100% OK: it can be fooled with string constants
  containing `//' or `\"' sequences; `in:' and `out:' are not highlighted
- syntax highlight: <paste> should update the whole file

General:
- introduce ~/.gnedrc
- switching back from text to graphics should check if text really changed or not
- display string: numeric parameters must be checked!!!
- cut,copy,paste should work everywhere (menu,toolbar,keys),
  for both text and graphics
- ctrl-mousemove should copy the items on canvas
- different vertical toolbar when changing from graphics to NED view;
  on that toolbar: Find, Replace
- scrollbar for the tabs below if there are too many windows open
- speed up data structure, get rid of "foreach i [array names ned ...]" statements...

Dialogs:
- TBD

Longer-term plans:
- general improvement (see all the above)
- opening simple modules, networks, channels, etc. on canvas
- do Properties dialogs
- drag&drop simple/compound module types onto a compound module canvas
- autoload a NED library on startup (sets of simple module,s etc.)
- consistency checks (params, gates etc.)

