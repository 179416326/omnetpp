#*************************************************#
#	   OMNET++ NEDC				  #
#						  #
#    Originally by:                               #
#	 Jan Heijmans 				  #
#	 Alex Paalvast				  #
#	 Robert van der Leij			  #
#    Maintained by: Andras Varga 1996-99	  #
#*************************************************#

# Definitions to be customized by configure
CXX=@CXX@
LD=@LD@
YACC=@YACC@
LEX=@LEX@

CFLAGS=@CFLAGS@

COPTS=$(CFLAGS)

nedc: ebnf.tab.o lex.yy.o jar.o jar_lib.o jar_mod.o jar_expr.o jar_mem.o
	$(LD) lex.yy.o ebnf.tab.o jar.o jar_lib.o jar_mod.o jar_expr.o jar_mem.o -o nedc

lex.yy.o: jar_func.h lex.yy.c
	$(CXX) -c $(COPTS) lex.yy.c

ebnf.tab.o: jar_func.h ebnf.tab.h ebnf.tab.c
	$(CXX) -c $(COPTS) ebnf.tab.c

ebnf.tab.h: ebnf.y
	$(YACC) -b ebnf -d ebnf.y

ebnf.tab.c: ebnf.y
	$(YACC) -b ebnf -d ebnf.y

lex.yy.c: ebnf.lex
	$(LEX) ebnf.lex

jar.o: jar_lib.h jar_func.h jar.c
	$(CXX) -c $(COPTS) jar.c

jar_lib.o: jar_lib.h jar_func.h jar_lib.c
	$(CXX) -c $(COPTS) jar_lib.c

jar_mod.o: jar_lib.h jar_func.h jar_mod.c
	$(CXX) -c $(COPTS) jar_mod.c

jar_expr.o: jar_lib.h jar_func.h jar_expr.c
	$(CXX) -c $(COPTS) jar_expr.c

jar_mem.o: jar_func.h jar_mem.c
	$(CXX) -c $(COPTS) jar_mem.c

