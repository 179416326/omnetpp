void $smTool.ClassName::InvokeSubmachinesL($modelTool.ClassName::EEvent aEvent, $contextClass& aContext)
	{
#set ($top = $smTool.getStateTool($sm.Top).Const)
	for (EState curState = iState; curState != $top; curState = GetSuperstate(curState))
		{
        switch (curState)
    	    {
#foreach ($state in $smTool.States)
            /* State: $state.Name */
            case ${smTool.getStateTool($state).Const}:
#foreach($submachine in $state.Submachines)
				iModel.${modelTool.getInstanceName($submachine)}->HandleL(aEvent, aContext);
#end
			    break;
#end
			}
		}
	}
