<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension point="org.eclipse.cdt.core.templates">
      <template
            id="org.omnetpp.cdt.templates.EmptyMake"
            location="templates/make/empty/template.xml"
            projectType="DISABLEDFORNOW.org.omnetpp.cdt.omnetppProjectType">
      </template>
   </extension>
   <extension
         point="org.eclipse.cdt.managedbuilder.core.buildDefinitions">
      <managedBuildRevision
            fileVersion="4.0.0">
      </managedBuildRevision>
      <builder
            buildPath="${PrimarySourceDir}"
            autoBuildTarget="all"
            cleanBuildTarget="clean"
            command="make"
            errorParsers="org.eclipse.cdt.core.MakeErrorParser"
            id="org.omnetpp.cdt.opp_makemake.builder"
            ignoreErrCmd="-k"
            incrementalBuildTarget="all"
            isAbstract="true"
            isVariableCaseSensitive="true"
            macroInputDirRelPathValue="$(dir $&lt;)"
            macroInputFileBaseNameValue="$(basename $(notdir $&lt;))"
            macroInputFileExtValue="$(suffix $(notdir $&lt;))"
            macroInputFileNameValue="$(notdir $&lt;)"
            macroInputFileRelPathValue="$&lt;"
            macroOutputDirRelPathValue="$(dir $@)"
            macroOutputFileBaseNameValue="$(basename $(notdir $@))"
            macroOutputFileExtValue="$(suffix $(notdir $@))"
            macroOutputFileNameValue="$(notdir $@)"
            macroOutputFileRelPathValue="$@"
            name="OMNeT++ Make Builder (opp_makemake)"
            parallelBuildCmd="-j*"
            reservedMacroNames="ROOT,DEPS,OBJS,.*_SRCS,EXECUTABLES,SUBDIRS,LIBS,USER_OBJS,.*_INPUTS,.*_OUTPUTS"
            supportsManagedBuild="false"
            variableFormat="${=}">
      </builder>
      <builder
            command="nmake"
            id="org.omnetpp.cdt.opp_nmakemake.builder"
            isAbstract="true"
            name="OMNeT++ Make Builder (opp_nmakemake - for MS Visual C++)"
            superClass="org.omnetpp.cdt.opp_makemake.builder">
      </builder>
      <toolChain
            id="org.omnetpp.cdt.msvc.toolchain.base"
            isAbstract="true"
            name="Microsoft Visual C++ for OMNeT++"
            osList="win32"
            superClass="org.eclipse.cdt.msvc.toolchain.base"
            supportsManagedBuild="false">
         <builder
               id="org.omnetpp.cdt.msvc.builder"
               isAbstract="true"
               superClass="org.omnetpp.cdt.opp_nmakemake.builder">
         </builder>
      </toolChain>
      <toolChain
            configurationEnvironmentSupplier="org.omnetpp.cdt.GCCEnvironmentVariableSupplier"
            id="org.omnetpp.cdt.gnu.toolchain.base"
            isAbstract="true"
            name="GCC for OMNeT++"
            osList="all"
            scannerConfigDiscoveryProfileId="org.omnetpp.cdt.OmnetppGCCPerProjectProfile"
            superClass="cdt.managedbuild.toolchain.gnu.base"
            supportsManagedBuild="false">
         <builder
               id="org.omnetpp.cdt.gnu.builder"
               isAbstract="true"
               superClass="org.omnetpp.cdt.opp_makemake.builder">
         </builder>
         <targetPlatform
               binaryParser="org.eclipse.cdt.core.ELF;org.eclipse.cdt.core.MachO;org.eclipse.cdt.core.PE"
               id="org.omnetpp.cdt.targetPlatform"
               isAbstract="false"
               osList="win32,linux,macosx">
         </targetPlatform>
      </toolChain>
      <projectType
            id="org.omnetpp.cdt.omnetppProjectType"
            name="OMNeT++ Simulation"
            projectEnvironmentSupplier="org.omnetpp.cdt.OmnetppProjectEnvironmentSupplier"
            projectMacroSupplier="org.omnetpp.cdt.OmnetppProjectMacroSupplier">
         <configuration
               id="org.omnetpp.cdt.msvc.config.debug"
               name="msvc-debug"
               parent="org.eclipse.cdt.msvc.configuration">
            <toolChain
                  id="org.omnetpp.cdt.msvc.toolchain.debug"
                  superClass="org.omnetpp.cdt.msvc.toolchain.base">
               <builder
                     arguments="-f Makefile.vc MODE=debug CONFIGNAME=${ConfigName}"
                     id="org.omnetpp.cdt.msvc.builder.debug"
                     superClass="org.omnetpp.cdt.msvc.builder">
               </builder>
            </toolChain>
         </configuration>
         <configuration
               id="org.omnetpp.cdt.msvc.config.release"
               name="msvc-release"
               parent="org.eclipse.cdt.msvc.configuration">
            <toolChain
                  id="org.omnetpp.cdt.msvc.toolchain.release"
                  superClass="org.omnetpp.cdt.msvc.toolchain.base">
               <builder
                     arguments="-f Makefile.vc MODE=release CONFIGNAME=${ConfigName}"
                     id="org.omnetpp.cdt.msvc.builder.release"
                     superClass="org.omnetpp.cdt.msvc.builder">
               </builder>
            </toolChain>
         </configuration>


         <configuration
               id="org.omnetpp.cdt.gnu.config.debug"
               name="gcc-debug"
               parent="cdt.managedbuild.config.gnu.base">
            <toolChain
                  id="org.omnetpp.cdt.gnu.toolchain.debug"
                  superClass="org.omnetpp.cdt.gnu.toolchain.base">
               <builder
                     arguments="MODE=debug CONFIGNAME=${ConfigName}"
                     id="org.omnetpp.cdt.gnu.builder.debug"
                     superClass="org.omnetpp.cdt.gnu.builder">
               </builder>
            </toolChain>
         </configuration>
         <configuration
               id="org.omnetpp.cdt.gnu.config.release"
               name="gcc-release"
               parent="cdt.managedbuild.config.gnu.base">
            <toolChain
                  id="org.omnetpp.cdt.gnu.toolchain.release"
                  superClass="org.omnetpp.cdt.gnu.toolchain.base">
               <builder
                     arguments="MODE=release CONFIGNAME=${ConfigName}"
                     id="org.omnetpp.cdt.gnu.builder.release"
                     superClass="org.omnetpp.cdt.gnu.builder">
               </builder>
            </toolChain>
         </configuration>
      </projectType>
   </extension>
   <extension
         id="org.omnetpp.cdt.OmnetppGCCPerProjectProfile"
         name="OMNeT++ per Project Profile"
         point="org.eclipse.cdt.make.core.ScannerConfigurationDiscoveryProfile">
      <scannerInfoCollector
            class="org.omnetpp.cdt.OmnetppGCCScannerInfoCollector"
            scope="project">
      </scannerInfoCollector>
   </extension>
   <extension
         id="MakefileBuilder"
         name="OMNeT++ Makefile Builder"
         point="org.eclipse.core.resources.builders">
      <builder
            hasNature="false">
         <run
               class="org.omnetpp.cdt.makefile.MakefileBuilder">
         </run>
      </builder>
   </extension>
   <extension
         point="org.eclipse.core.variables.dynamicVariables">
      <variable
            description="Expands to the list of shared libraries built by the OMNeT++ project and the projects it references"
            name="opp_shared_libs"
            resolver="org.omnetpp.cdt.launch.OppVariableResolver"
            supportsArgument="true">
      </variable>
      <variable
            description="Expands to the list of shared libraries (file system location) built by the OMNeT++ project and the projects it references"
            name="opp_shared_libs_loc"
            resolver="org.omnetpp.cdt.launch.OppVariableResolver"
            supportsArgument="true">
      </variable>
      <variable
            description="Expands to the list of static libraries built by the OMNeT++ project and the projects it references"
            name="opp_static_libs"
            resolver="org.omnetpp.cdt.launch.OppVariableResolver"
            supportsArgument="true">
      </variable>
      <variable
            description="Expands to the list of static libraries (file system location) built by the OMNeT++ project and the projects it references"
            name="opp_static_libs_loc"
            resolver="org.omnetpp.cdt.launch.OppVariableResolver"
            supportsArgument="true">
      </variable>
      <variable
            description="Expands to the list of executable names built by the OMNeT++ project and the projects it references"
            name="opp_simprogs"
            resolver="org.omnetpp.cdt.launch.OppVariableResolver"
            supportsArgument="true">
      </variable>
      <variable
            description="Expands to the list of executable names (file system path) built by the OMNeT++ project and the projects it references"
            name="opp_simprogs_loc"
            resolver="org.omnetpp.cdt.launch.OppVariableResolver"
            supportsArgument="true">
      </variable>
   </extension>
   <extension
         id="makefileproblem"
         name="Makefile Problem"
         point="org.eclipse.core.resources.markers">
      <persistent
            value="false">
      </persistent>
      <super
            type="org.eclipse.core.resources.problemmarker">
      </super>
   </extension>
   <extension
         point="org.eclipse.debug.core.launchDelegates">
      <launchDelegate
            delegate="org.omnetpp.cdt.launch.SimulationDebugLaunchDelegate"
            delegateDescription="Allows debugging an OMNeT++ simulation with CDT"
            id="org.omnetpp.launch.simulationDebugDelegate"
            modes="debug"
            name="OMNeT++ Simulation Debugger"
            sourceLocatorId="org.eclipse.cdt.debug.core.sourceLocator"
            sourcePathComputerId="org.eclipse.cdt.debug.core.sourcePathComputer"
            type="org.omnetpp.launch.simulationLaunchConfigurationType">
      </launchDelegate>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchConfigurationTabs">
      <tab
            class="org.eclipse.debug.ui.sourcelookup.SourceLookupTab"
            group="org.omnetpp.launch.simulationLaunchConfigurationTabGroup"
            id="org.omnetpp.cdt.csourcetab"
            name="Source">
         <placement
               after="org.eclipse.debug.ui.environmentTab">
         </placement>
      </tab>
      <tab
            class="org.omnetpp.cdt.launch.OmnetppCDebuggerTab"
            group="org.omnetpp.launch.simulationLaunchConfigurationTabGroup"
            id="org.omnetpp.cdt.cdebugtab"
            name="Debugger">
         <placement
               after="org.eclipse.debug.ui.environmentTab">
         </placement>
      </tab>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <wizard
            category="org.omnetpp.wizards"
            class="org.omnetpp.cdt.wizard.OmnetppCCProjectWizard"
            finalPerspective="org.omnetpp.main.OmnetppPerspective"
            icon="icons/full/obj16/newoproject.gif"
            id="org.omnetpp.cdt.wizard.omnetppCCProjectWizard"
            name="OMNeT++ Project for C++..."
            preferredPerspectives="org.eclipse.cdt.ui.CPerspective, org.omnetpp.main.OmnetppPerspective"
            project="true">
         <description>
            Create a Project that can handle OMNeT++ specific files and supports C++ development using CDT.
         </description>
      </wizard>
   </extension>
  <extension
        point="org.eclipse.ui.navigator.navigatorContent">
     <commonWizard
           menuGroupId="org.eclipse.cdt.ui.newProject"
           type="new"
           wizardId="org.omnetpp.cdt.wizard.omnetppCCProjectWizard">
        <enablement></enablement>
     </commonWizard>
  </extension>
   <extension
         point="org.eclipse.ui.propertyPages">
      <page
            category="org.eclipse.cdt.managedbuilder.ui.properties.Page_head_build"
            class="org.omnetpp.cdt.ui.MakemakeFolderPropertyPage"
            id="org.omnetpp.cdt.BuildSpec"
            name="Makemake (OMNeT++)">
         <enabledWhen>
            <and>
               <or>
               <instanceof
                     value="org.eclipse.core.resources.IContainer">
               </instanceof>
               <instanceof
                     value="org.eclipse.cdt.core.model.ICContainer">
               </instanceof>
               </or>
               <adapt
                     type="org.eclipse.core.resources.IResource">
                 <test
                     property="org.eclipse.core.resources.projectNature"
                     value="org.eclipse.cdt.managedbuilder.core.managedBuildNature">
                 </test>
               </adapt>
               <adapt
                     type="org.eclipse.core.resources.IResource">
                 <test
                     property="org.eclipse.core.resources.projectNature"
                     value="org.omnetpp.main.omnetppnature">
                 </test>
               </adapt>
            </and>
         </enabledWhen>
      </page>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="org.eclipse.cdt.ui.CPerspective">
         <perspectiveShortcut
               id="org.omnetpp.main.OmnetppPerspective">
         </perspectiveShortcut>
         <newWizardShortcut
               id="org.omnetpp.cdt.wizard.omnetppCCProjectWizard">
         </newWizardShortcut>
      </perspectiveExtension>
      <perspectiveExtension
            targetID="org.eclipse.debug.ui.DebugPerspective">
         <perspectiveShortcut
               id="org.omnetpp.main.OmnetppPerspective">
         </perspectiveShortcut>
      </perspectiveExtension>
   </extension>
</plugin>
